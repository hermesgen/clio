{{ define "page" }}
{{ template "layout" . }}
{{ end }}

{{ define "title" }}
{{ .Data.Heading }}
{{ end }}

{{ define "content" }}
<div class="space-y-4">
    <h1 class="text-2xl font-bold">{{ .Data.Heading }}</h1>

    {{ if .Data.Tags }}
    <div class="flex flex-wrap gap-2">
        {{ range .Data.Tags }}
        <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full">{{ .Name }}</span>
        {{ end }}
    </div>
    {{ end }}

    <div id="content-body" class="prose max-w-none">
        {{/* This hidden div holds the raw markdown */}}
        <div id="markdown-source" style="display: none;">{{ .Data.Body }}</div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const markdownText = document.getElementById('markdown-source').textContent;
    document.getElementById('content-body').innerHTML = window.marked.parse(markdownText);
  });
</script>
{{ end }}

{{ define "submenu" }}
<div class="mx-auto p-4">
  <div class="flex space-x-4 justify-center">
    <a href="{{ listPath "content" }}" class="btn btn-secondary">Back</a>
  </div>
</div>
{{ end }}
