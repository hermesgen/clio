{{ define "page" }}
{{ template "layout" . }}
{{ end }}

{{ define "title" }}
{{ .Name }}
{{ end }}

{{ define "content" }}
<h1>{{ .Name }}</h1>

<form action="{{ .Form.Action }}" method="POST" class="space-y-4">
    <input type="hidden" name="hm.csrf.token" value="{{ .Form.CSRF }}" />
    {{ if not .IsNew }}
    <input type="hidden" name="id" value="{{ .Param.ID }}" />
    {{ end }}

    {{ with .Form.Validation.FieldMsg "name" }}
    <p class="text-red-500 text-xs italic">{{ . }}</p>
    {{ end }}
    <div>
    <label for="name" class="block text-sm font-medium text-gray-700">Name:</label>
    <input
      type="text"
      id="name"
      name="name"
      value="{{ .Form.Name }}"
      class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm {{ if .Param.IsSystem }}bg-gray-100 cursor-not-allowed{{ end }}"
      {{ if .Param.IsSystem }}readonly{{ end }}
    />
  </div>

    {{ with .Form.Validation.FieldMsg "value" }}
    <p class="text-red-500 text-xs italic">{{ . }}</p>
    {{ end }}
    <label class="block">
        <span class="text-gray-700">Value</span>
        <input type="text" name="value" value="{{ .Form.Value }}" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
    </label>

    <label class="block">
        <span class="text-gray-700">Description</span>
        <textarea name="description" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm {{ if .Param.IsSystem }}bg-gray-100 cursor-not-allowed{{ end }}" rows="3" {{ if .Param.IsSystem }}readonly{{ end }}>{{ .Form.Description }}</textarea>
    </label>

    <label class="block">
        <span class="text-gray-700">Ref Key (Optional)</span>
        <input type="text" name="ref_key" value="{{ .Form.RefKey }}" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm {{ if .Param.IsSystem }}bg-gray-100 cursor-not-allowed{{ end }}" {{ if .Param.IsSystem }}readonly{{ end }}>
    </label>

    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
        {{ .Form.Button.Text }}
    </button>
</form>
{{ end }}

{{ define "submenu" }}
<div class="mx-auto p-4">
  <div class="flex space-x-4 justify-center">
    <a href="{{ listPath "param" }}" class="btn btn-secondary">Back</a>
  </div>
</div>
{{ end }}
